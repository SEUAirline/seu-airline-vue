# SEUAirline 前端开发计划 - 2025年10月29日

**日期:** 2025-10-29  
**开发阶段:** 第二阶段 - 用户端核心功能  
**当前重点:** 航班浏览与预订功能完善  
**老师进度要求:** 本周需完成"主页面的商品或其他信息的浏览"

---

## 📊 当前项目状态分析

### ✅ 已完成功能（截至10月23日）

#### 1. 基础架构 (100%)
- [x] Vue3 + TypeScript + Vite 项目初始化
- [x] Tailwind CSS 配置
- [x] Vue Router 配置（22个路由）
- [x] Pinia Store 配置（5个Store）
- [x] TypeScript 类型系统
- [x] Mock 数据系统（vite-plugin-mock）

#### 2. 用户端页面
- [x] **HomePage.vue** - 首页（完整实现 ✅）
  - 航班搜索表单
  - 单程/往返选择
  - 城市选择
  - 日期选择
  - 搜索功能跳转
  - 特色服务展示
  - 导航栏和页脚
  
- [x] **FlightSearchPage.vue** - 航班搜索页（完整实现 ✅）
  - 搜索条件摘要
  - 左侧筛选栏（FlightFilter组件）
  - 航班列表展示（FlightCard组件）
  - 排序功能（价格、时间、时长）
  - 分页功能（Pagination组件）
  - 加载状态
  - 空状态处理
  
- [x] **LoginPage.vue** - 登录页
- [x] **RegisterPage.vue** - 注册页

#### 3. 核心组件
- [x] **FlightCard.vue** - 航班卡片（180行，完整功能）
- [x] **FlightFilter.vue** - 航班筛选器（180行，完整功能）
- [x] **Pagination.vue** - 分页组件（150行，完整功能）

#### 4. Mock数据系统
- [x] flight.ts - 航班Mock API（15-30个随机航班）
- [x] user.ts - 用户Mock API
- [x] order.ts - 订单Mock API
- [x] 10个城市机场数据
- [x] 7个航空公司数据

### ⚠️ 未完成/待开发功能

#### 1. 用户端核心页面
- [ ] **FlightBookPage.vue** - 航班预订页（❌ 仅占位页面）
- [ ] **PaymentPage.vue** - 支付页面（未知状态）
- [ ] **OrderListPage.vue** - 订单列表页（未知状态）
- [ ] **UserCenterPage.vue** - 个人中心（未知状态）

#### 2. 缺失的组件
- [ ] PassengerForm.vue - 乘客信息表单
- [ ] ContactForm.vue - 联系人表单
- [ ] OrderCard.vue - 订单卡片
- [ ] Toast.vue - 消息提示组件
- [ ] Modal.vue - 模态框组件

#### 3. 后端API对接
- [ ] 航班搜索接口（当前仅Mock）
- [ ] 航班详情接口
- [ ] 订单创建接口
- [ ] 支付接口

---

## 🎯 老师要求分析

**要求:** 本周完成"主页面的商品或其他信息的浏览"

**对于SEUAirline项目的含义:**
1. **"商品"** = **航班信息**（机票）
2. **"信息浏览"** = **航班列表展示 + 航班详情查看**

**已满足的部分:**
- ✅ 首页航班搜索入口
- ✅ 航班搜索结果列表展示
- ✅ 航班筛选功能
- ✅ 航班排序功能
- ✅ 分页浏览

**需要补充的部分:**
- ⚠️ 航班详情页/模态框（点击"查看详情"当前仅console.log）
- ⚠️ 热门航线推荐（首页可以添加）
- ⚠️ 航班信息更丰富的展示

---

## 📅 今日开发计划（2025-10-29）

### 🎯 核心目标
**完善"航班信息浏览"功能，满足老师的本周进度要求**

### 优先级1：航班详情功能（必做）⭐⭐⭐

#### 任务1.1：创建航班详情组件
**文件:** `src/components/FlightDetailModal.vue`

**功能需求:**
- [ ] 模态框布局（使用Teleport到body）
- [ ] 完整航班信息展示
  - 航班号、航空公司
  - 起飞/到达时间、机场、航站楼
  - 飞行时长、机型
  - 舱位信息（经济舱/商务舱/头等舱）
  - 价格详情
  - 行李额度、餐食服务
  - 退改签政策
- [ ] 关闭按钮（ESC键和点击遮罩关闭）
- [ ] 预订按钮（跳转到预订页面）
- [ ] 响应式设计

**技术要点:**
```typescript
// Props接口
interface Props {
  flight: Flight | null
  isOpen: boolean
}

// Emits
const emit = defineEmits<{
  close: []
  book: [flightId: string]
}>()
```

**预计时间:** 1.5小时

#### 任务1.2：完善FlightCard组件
**文件:** `src/components/FlightCard.vue`

**修改内容:**
- [ ] 将"查看详情"按钮的console.log改为发射viewDetail事件
- [ ] 测试事件发射是否正常

**预计时间:** 15分钟

#### 任务1.3：集成详情模态框
**文件:** `src/views/user/FlightSearchPage.vue`

**修改内容:**
- [ ] 引入FlightDetailModal组件
- [ ] 添加selectedFlight状态
- [ ] 添加isDetailOpen状态
- [ ] 实现handleViewDetail方法
- [ ] 实现handleCloseDetail方法
- [ ] 实现handleBookFlight方法（跳转到预订页）

**预计时间:** 30分钟

---

### 优先级2：首页航班推荐（应做）⭐⭐

#### 任务2.1：创建热门航线组件
**文件:** `src/components/PopularFlights.vue`

**功能需求:**
- [ ] 显示4-6个热门航线
- [ ] 卡片式展示
- [ ] 包含：航线、价格、航班数量
- [ ] 点击跳转到航班搜索页

**数据来源:**
```typescript
// 热门航线数据（可以硬编码）
const popularRoutes = [
  { from: '南京', to: '北京', minPrice: 680, flightCount: 12 },
  { from: '南京', to: '上海', minPrice: 320, flightCount: 20 },
  { from: '南京', to: '广州', minPrice: 850, flightCount: 8 },
  { from: '南京', to: '成都', minPrice: 920, flightCount: 10 },
]
```

**预计时间:** 1小时

#### 任务2.2：首页集成热门航线
**文件:** `src/views/user/HomePage.vue`

**修改内容:**
- [ ] 在"特色服务"区域后添加"热门航线"区域
- [ ] 引入PopularFlights组件
- [ ] 测试点击跳转功能

**预计时间:** 20分钟

---

### 优先级3：航班预订页面基础（应做）⭐⭐

#### 任务3.1：完善FlightBookPage.vue
**文件:** `src/views/user/FlightBookPage.vue`

**功能需求（第一版，简化版）:**
- [ ] 从路由参数获取航班ID
- [ ] 显示选中的航班信息（复用FlightCard或创建简化版）
- [ ] 乘客信息表单（先做1个成人，简化版）
  - 姓名
  - 证件号
  - 手机号
- [ ] 联系人信息表单
  - 姓名
  - 手机号
  - 邮箱
- [ ] 价格明细
- [ ] 提交预订按钮（先mock数据，跳转到订单成功页）

**预计时间:** 2小时

---

### 优先级4：UI/UX优化（可选）⭐

#### 任务4.1：添加Toast消息组件
**文件:** `src/components/common/Toast.vue`

**功能需求:**
- [ ] 成功/错误/警告/信息 四种类型
- [ ] 自动消失（3秒）
- [ ] 可手动关闭
- [ ] 多个Toast堆叠显示

**预计时间:** 1小时

#### 任务4.2：优化加载状态
**文件:** `src/components/common/LoadingSkeleton.vue`

**功能需求:**
- [ ] 航班卡片骨架屏
- [ ] 更好的加载动画

**预计时间:** 30分钟

---

## ⏱️ 时间分配（按8小时工作日）

| 时间段      | 任务                          | 预计耗时 |
| ----------- | ----------------------------- | -------- |
| 09:00-10:30 | 任务1.1：创建航班详情模态框   | 1.5h     |
| 10:30-11:15 | 任务1.2 + 1.3：集成详情模态框 | 0.75h    |
| 11:15-12:00 | 测试航班详情功能，修复Bug     | 0.75h    |
| 12:00-13:30 | **午休**                      | -        |
| 13:30-14:30 | 任务2.1：创建热门航线组件     | 1h       |
| 14:30-15:00 | 任务2.2：首页集成             | 0.5h     |
| 15:00-17:00 | 任务3.1：航班预订页面基础     | 2h       |
| 17:00-18:00 | 测试整体流程，文档更新        | 1h       |

**总计:** 约 7.5 小时

---

## 🧪 测试清单

### 航班详情功能测试
- [ ] 点击FlightCard的"查看详情"能打开模态框
- [ ] 模态框显示完整航班信息
- [ ] 点击遮罩/ESC键能关闭模态框
- [ ] 点击"预订"按钮能跳转到预订页面
- [ ] 模态框在移动端正常显示

### 热门航线功能测试
- [ ] 首页显示热门航线卡片
- [ ] 点击航线卡片跳转到搜索页
- [ ] 搜索条件正确传递

### 预订页面测试
- [ ] 能正确接收航班ID
- [ ] 航班信息正确显示
- [ ] 表单验证正常工作
- [ ] 提交后能跳转到成功页

---

## 📝 完成标准

### 今日必须完成（满足老师要求）
1. ✅ 航班详情查看功能（模态框）
2. ✅ 首页热门航线推荐
3. ✅ 航班预订页面基础框架

### 今日争取完成
4. ⭐ Toast消息提示组件
5. ⭐ 加载骨架屏优化

### 验收标准
**用户完整体验流程:**
1. 访问首页 → 看到热门航线推荐
2. 点击热门航线 → 跳转到航班搜索页
3. 浏览航班列表 → 筛选、排序、分页
4. 点击"查看详情" → 打开详情模态框，查看完整信息
5. 点击"预订" → 跳转到预订页面
6. 填写乘客信息 → 提交预订（mock）

**此流程能完整走通，即满足"商品信息浏览"的老师要求！**

---

## 📚 技术参考

### Teleport (模态框)
```vue
<teleport to="body">
  <div v-if="isOpen" class="modal-overlay">
    <div class="modal-content">
      <!-- 内容 -->
    </div>
  </div>
</teleport>
```

### 表单验证（简单版）
```typescript
const validateForm = () => {
  if (!form.value.name) {
    errors.value.name = '请输入姓名'
    return false
  }
  if (!form.value.idCard || !/^\d{18}$/.test(form.value.idCard)) {
    errors.value.idCard = '请输入正确的18位身份证号'
    return false
  }
  return true
}
```

---

## 🚀 明日计划预览（2025-10-30）

### 主要任务
1. 完善航班预订页面（完整的表单验证）
2. 创建PassengerForm组件（可添加多个乘客）
3. 集成VeeValidate + Yup表单验证
4. 完善支付页面基础框架

---

## 📊 项目整体进度

### 第二阶段进度（用户端核心功能）
- **航班搜索与浏览:** 95% ✅
- **航班预订:** 20% 🔄
- **支付流程:** 0% ⏳
- **订单管理:** 0% ⏳
- **个人中心:** 0% ⏳

### 本周目标（10月28日-11月1日）
**老师要求:** 完成"商品信息浏览"
- [x] 航班搜索列表 ✅
- [x] 航班筛选排序 ✅
- [ ] 航班详情查看 🔄 （今日完成）
- [ ] 热门推荐 🔄 （今日完成）

**额外目标:**
- [ ] 预订页面基础 🔄 （今日完成）
- [ ] Toast组件 🔄 （争取完成）

---

## 💡 注意事项

### 开发建议
1. **先完成核心功能，再优化细节**
2. **Mock数据暂时够用，不急于对接后端**
3. **组件保持简洁，避免过度设计**
4. **及时测试，避免积累Bug**

### 代码规范
- 使用TypeScript严格模式
- 组件Props和Emits要定义类型
- 添加必要的注释
- 保持代码格式一致（Prettier）

### Git提交
- 每完成一个任务就commit
- commit message清晰明确
- 例如："feat: 添加航班详情模态框组件"

---

## 🎉 今日开发目标总结

**核心成果:**
1. 📱 用户可以查看航班详细信息（模态框）
2. 🏠 首页展示热门航线推荐
3. 📝 用户可以进入预订页面并填写基本信息

**满足老师要求:**
✅ 主页面的"商品"（航班）信息浏览功能完整

**为后续开发奠定基础:**
✅ 预订流程的第一步已完成
✅ 组件库逐步丰富
✅ 用户体验持续优化

---

**开始时间:** 2025-10-29 09:00  
**预计结束:** 2025-10-29 18:00  
**开发者:** [Your Name]  

**加油！今天的任务很明确，按照计划执行即可！💪**
